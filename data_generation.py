
import numpy as np
import random as rd

raw_data = [19.67860335,21.86011173,22.2450838,20.57687151,19.42195531,20.19189944,18.65201117,20.57687151,19.80692737,20.96184358,19.9352514,20.83351955,20.19189944,21.34681564,21.86011173,20.96184358,22.63005587,21.60346369,22.63005587,22.63005587,22.75837989,23.01502793,22.88670391,23.14335196,23.27167598,24.04162011,24.29826816,25.19653631,25.06821229,26.35145251,27.37804469,28.91793296,31.86938547,13.00575419,12.74910615,13.51905028,12.87743017,13.00575419,13.13407821,13.90402235,13.90402235,14.54564246,14.54564246,15.31558659,15.05893855,15.57223464,15.18726257,15.70055866,15.44391061,15.70055866,15.9572067,16.34217877,16.21385475,16.59882682,16.72715084,16.98379888,16.85547486,17.49709497,17.62541899,18.01039106,18.26703911,18.7803352,18.65201117,19.29363128,19.55027933,19.80692737,20.57687151,20.44854749,20.70519553,20.57687151,20.32022346,19.42195531,19.9352514,19.80692737,20.57687151,20.44854749,20.57687151,20.70519553,21.21849162,21.0901676,21.60346369,21.60346369,22.2450838,21.98843575,22.75837989,22.75837989,23.14335196,23.14335196,23.65664804,23.52832402,24.29826816,24.16994413,24.93988827,24.68324022,25.58150838,25.7098324,26.8647486,26.99307263,27.63469274,27.89134078,28.53296089,28.91793296,29.68787709,30.32949721,31.35608939,33.92256983,31.35608939,33.40927374,31.09944134,26.35145251,17.24044693,17.24044693,17.62541899,17.62541899,17.75374302,15.9572067,16.34217877,16.34217877,16.72715084,16.21385475,16.47050279,16.72715084,17.11212291,16.98379888,17.75374302,17.49709497,18.01039106,17.88206704,18.13871508,18.26703911,18.39536313,18.52368715,18.65201117,18.7803352,19.16530726,19.29363128,19.67860335,19.55027933,19.55027933,20.06357542,19.67860335,20.32022346,20.32022346,20.44854749,20.32022346,20.57687151,20.83351955,21.0901676,21.34681564,21.73178771,22.11675978,22.63005587,22.88670391,23.14335196,23.14335196,23.27167598,23.91329609,24.16994413,24.42659218,24.29826816,24.29826816,23.4,18.39536313,18.52368715,18.26703911,18.52368715,18.26703911,17.24044693,16.59882682,15.70055866,13.00575419,12.62078212,12.10748603,12.23581006,12.23581006,12.10748603,12.4924581,12.4924581,12.4924581,12.36413408,12.4924581,12.62078212,12.74910615,12.74910615,13.00575419,13.00575419,13.26240223,13.39072626,13.51905028,13.6473743,13.77569832,13.51905028,13.51905028,13.51905028,13.39072626,13.51905028,13.77569832,13.39072626,13.51905028,13.51905028,13.6473743,13.77569832,13.6473743,13.77569832,13.77569832,13.6473743,13.51905028,13.77569832,13.51905028,13.51905028,13.6473743,13.6473743,14.03234637,13.77569832,13.77569832,13.51905028,13.77569832,13.51905028,13.6473743,13.77569832,13.77569832,13.77569832,13.77569832,13.26240223,13.51905028,13.51905028,13.77569832,13.51905028,13.77569832,13.90402235,13.77569832,13.90402235,14.16067039,14.67396648,14.8022905,14.54564246,14.41731844,14.28899441,14.67396648,14.54564246,14.67396648,14.8022905,14.67396648,14.93061453,15.18726257,15.31558659,15.57223464,15.82888268,15.82888268,16.08553073,15.70055866,15.05893855,10.82424581,10.69592179,11.08089385,10.95256983,10.95256983,10.95256983,11.08089385,10.95256983,10.95256983,10.82424581,10.82424581,10.69592179,10.82424581,10.95256983,11.08089385,10.95256983,11.08089385,10.95256983,10.95256983,10.82424581,11.08089385,10.82424581,11.08089385,11.08089385,11.08089385,10.56759777,11.3375419,11.20921788,11.46586592,11.20921788,11.46586592,11.3375419,11.72251397,11.08089385,12.10748603,11.59418994,12.36413408,11.97916201,11.97916201,11.72251397,11.85083799,11.97916201,12.23581006,12.74910615,13.51905028,13.6473743,13.90402235,13.51905028,13.26240223,13.13407821,13.00575419,13.26240223,13.39072626,13.77569832,13.90402235,13.6473743,13.39072626,13.77569832,13.51905028,13.77569832,14.03234637,14.16067039,14.28899441,14.41731844,14.41731844,14.8022905,14.8022905,15.05893855,15.70055866,15.82888268,15.31558659,15.57223464,15.70055866,15.82888268,15.82888268,15.70055866,16.21385475,16.34217877,16.47050279,16.21385475,18.52368715,18.65201117,19.29363128,19.03698324,19.29363128,18.26703911,18.7803352,18.39536313,17.88206704,17.36877095,17.49709497,17.36877095,17.75374302,18.26703911,19.16530726,19.9352514,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,8.001117318,8.129441341,8.129441341,8.129441341,7.872793296,8.001117318,7.872793296,7.872793296,7.744469274,8.001117318,7.872793296,7.872793296,7.744469274,7.872793296,7.872793296,8.129441341,7.744469274,8.001117318,7.744469274,8.001117318,7.616145251,7.616145251,7.359497207,8.129441341,7.872793296,8.129441341,8.129441341,8.386089385,8.386089385,8.386089385,7.359497207,0.045027933,0.173351955,17.62541899,17.75374302,17.36877095,16.98379888,17.88206704,17.49709497,18.39536313,17.62541899,18.39536313,18.13871508,18.39536313,18.39536313,18.39536313,18.26703911,18.26703911,18.39536313,18.26703911,18.26703911,18.13871508,18.26703911,18.52368715,18.65201117,18.52368715,18.52368715,18.65201117,18.65201117,18.39536313,18.26703911,18.39536313,18.52368715,19.03698324,19.03698324,19.03698324,19.16530726,19.16530726,18.90865922,18.90865922,18.65201117,18.90865922,19.03698324,19.42195531,19.67860335,19.80692737,19.80692737,19.80692737,20.32022346,20.19189944,20.19189944,20.19189944,20.32022346,21.0901676,21.47513966,21.21849162,21.34681564,21.34681564,21.34681564,21.21849162,21.21849162,21.21849162,21.34681564,21.98843575,22.11675978,22.11675978,22.11675978,21.98843575,22.11675978,21.98843575,21.98843575,22.11675978,22.37340782,22.37340782,22.63005587,22.88670391,22.88670391,22.88670391,22.75837989,22.75837989,22.75837989,22.88670391,23.01502793,23.78497207,24.16994413,24.04162011,24.04162011,24.04162011,23.91329609,23.91329609,23.78497207,24.16994413,24.16994413,24.81156425,24.93988827,25.06821229,25.06821229,25.06821229,24.93988827,24.81156425,25.06821229,24.93988827,25.19653631,25.83815642,26.09480447,26.09480447,26.09480447,25.96648045,25.96648045,25.96648045,25.83815642,25.83815642,25.96648045,26.47977654,26.8647486,26.8647486,26.8647486,26.8647486,26.8647486,26.60810056,26.60810056,26.8647486,26.73642458,27.24972067,27.24972067,27.50636872,27.37804469,27.37804469,27.37804469,27.24972067,27.24972067,27.24972067,27.37804469,27.63469274,27.89134078,28.0196648,27.63469274,27.76301676,27.89134078,27.63469274,27.50636872,27.50636872,27.76301676,28.0196648,28.14798883,28.27631285,28.27631285,28.0196648,28.14798883,28.14798883,28.14798883,28.27631285,28.27631285,28.40463687,28.40463687,28.53296089,28.66128492,28.66128492,28.66128492,28.40463687,28.27631285,28.27631285,28.40463687,28.91793296,28.91793296,28.91793296,29.04625698,29.17458101,29.30290503,29.30290503,29.30290503,29.43122905,29.43122905,29.81620112,29.55955307,29.55955307,29.17458101,29.43122905,28.14798883,28.14798883,28.0196648,28.0196648,28.14798883,28.78960894,29.04625698,29.30290503,29.17458101,29.17458101,29.30290503,29.43122905,29.43122905,29.68787709,29.94452514,30.71446927,30.97111732,31.22776536,31.35608939,31.48441341,31.9977095,32.25435754,32.51100559,33.28094972,34.43586592,20.70519553,20.96184358,20.96184358,21.0901676,21.0901676,21.0901676,21.0901676,21.0901676,21.0901676,21.21849162,21.21849162,21.34681564,21.34681564,21.34681564,21.34681564,21.21849162,21.21849162,21.60346369,21.60346369,21.86011173,21.86011173,21.86011173,21.86011173,21.98843575,21.98843575,21.98843575,21.98843575,21.98843575,21.98843575,21.98843575,21.98843575,22.11675978,22.11675978,22.2450838,22.2450838,22.2450838,22.37340782,22.37340782,22.63005587,22.63005587,23.27167598,23.27167598,23.52832402,23.52832402,23.65664804,23.52832402,23.52832402,23.65664804,23.65664804,23.65664804,23.65664804,23.65664804,23.65664804,23.65664804,23.78497207,23.78497207,24.04162011,24.04162011,24.81156425,25.19653631,25.19653631,25.06821229,25.06821229,25.19653631,25.19653631,25.06821229,25.06821229,25.06821229,25.06821229,25.19653631,25.19653631,24.93988827,24.93988827,25.06821229,25.06821229,25.58150838,25.58150838,26.09480447,26.35145251,26.47977654,26.35145251,26.47977654,26.35145251,26.35145251,26.35145251,26.22312849,26.47977654,26.60810056,28.27631285,27.63469274,27.63469274,27.63469274,27.63469274,27.63469274,27.63469274,28.14798883,27.76301676,27.76301676,28.0196648,28.27631285,28.27631285,28.14798883,28.0196648,28.14798883,28.14798883,28.27631285,28.14798883,28.14798883,28.27631285,28.53296089,28.53296089,28.40463687,28.40463687,28.53296089,28.53296089,28.53296089,28.40463687,28.53296089,28.78960894,29.17458101,29.17458101,29.04625698,29.17458101,29.17458101,29.17458101,29.17458101,29.43122905,29.81620112,30.20117318,30.58614525,30.71446927,30.8427933,30.8427933,31.35608939,31.48441341,31.74106145,32.25435754,32.89597765,35.97575419,23.4,23.52832402,23.52832402,23.52832402,23.27167598,23.4,23.52832402,23.52832402,23.91329609,24.5549162,24.68324022,24.68324022,24.81156425,24.68324022,24.68324022,24.81156425,24.81156425,24.81156425,25.32486034,25.83815642,26.09480447,26.22312849,26.22312849,26.22312849,26.22312849,26.09480447,26.09480447,26.22312849,26.47977654,26.99307263,27.12139665,27.37804469,27.24972067,27.24972067,27.24972067,27.24972067,27.24972067,27.37804469,27.37804469,27.63469274,27.76301676,27.89134078,27.89134078,27.89134078,28.14798883,28.0196648,28.14798883,28.14798883,28.40463687,29.17458101,29.17458101,29.55955307,29.43122905,29.55955307,29.43122905,29.43122905,29.30290503,29.55955307,29.81620112,30.58614525,30.71446927,30.71446927,31.09944134,31.22776536,31.48441341,31.61273743,32.12603352,32.51100559,33.66592179,19.16530726,19.55027933,19.55027933,19.55027933,19.67860335,19.80692737,19.9352514,19.9352514,19.9352514,20.06357542,20.19189944,20.57687151,20.83351955,20.83351955,20.96184358,21.0901676,21.0901676,21.34681564,21.47513966,21.47513966,21.73178771,22.11675978,22.2450838,22.2450838,22.37340782,22.37340782,22.2450838,22.37340782,22.50173184,22.63005587,23.65664804,23.91329609,23.91329609,23.91329609,23.91329609,23.78497207,23.65664804,23.78497207,24.16994413,24.29826816,25.06821229,25.19653631,25.19653631,25.19653631,25.19653631,25.32486034,25.19653631,25.06821229,25.19653631,25.45318436,25.7098324,25.83815642,25.96648045,25.83815642,25.83815642,25.7098324,25.83815642,25.7098324,25.7098324,26.09480447,26.73642458,27.12139665,27.12139665,27.12139665,26.99307263,26.8647486,26.8647486,26.8647486,26.8647486,26.8647486,27.37804469,27.50636872,27.50636872,27.76301676,27.76301676,27.63469274,27.76301676,27.76301676,27.63469274,27.63469274,27.76301676,27.76301676,27.89134078,27.76301676,27.63469274,27.63469274,27.63469274,27.76301676,27.89134078,28.27631285,28.78960894,29.17458101,29.55955307,29.55955307,29.68787709,29.94452514,30.32949721,30.71446927,31.35608939,32.51100559,17.24044693,17.49709497,17.62541899,17.75374302,17.62541899,17.88206704,18.01039106,17.88206704,17.88206704,17.88206704,18.01039106,18.26703911,18.39536313,18.39536313,18.39536313,18.52368715,18.65201117,18.7803352,18.52368715,18.90865922,18.7803352,18.90865922,19.03698324,19.16530726,19.03698324,19.29363128,19.29363128,19.42195531,19.29363128,19.29363128,19.55027933,19.67860335,19.9352514,19.80692737,19.9352514,20.06357542,19.9352514,20.19189944,20.19189944,20.19189944,20.44854749,20.32022346,20.57687151,20.44854749,20.44854749,20.57687151,20.57687151,20.57687151,20.57687151,20.83351955,20.96184358,21.0901676,21.34681564,21.34681564,21.34681564,21.21849162,21.0901676,21.21849162,21.21849162,21.47513966,21.60346369,21.98843575,21.98843575,21.98843575,21.98843575,21.98843575,21.98843575,22.11675978,22.2450838,22.88670391,22.88670391,22.88670391,23.01502793,22.88670391,22.88670391,22.88670391,22.88670391,23.01502793,23.01502793,23.4,23.4,23.78497207,23.78497207,23.78497207,23.4,23.4,23.4,23.52832402,23.78497207,24.29826816,24.5549162,24.42659218,24.5549162,24.42659218,24.29826816,24.29826816,24.16994413,24.16994413,24.29826816,24.81156425,24.93988827,24.93988827,24.93988827,24.93988827,24.68324022,24.68324022,24.68324022,24.68324022,24.81156425,25.06821229,25.32486034,25.45318436,25.58150838,25.45318436,25.58150838,25.45318436,25.32486034,25.45318436,25.7098324,25.96648045,26.09480447,26.35145251,26.35145251,26.60810056,26.60810056,26.8647486,26.8647486,27.12139665,27.37804469,27.89134078,31.09944134,21.60346369,21.86011173,22.11675978,22.50173184,22.88670391,23.01502793,23.52832402,23.52832402,24.81156425,27.24972067,34.56418994,48.87527933,5.947932961]

def generate_random_data(leftsize, righsize, errorsize, itegration=1):
    np.random.seed(42)
    # Generate train data
    full_data = np.array([], dtype=np.float64).reshape((-1,1))
    full_outliners = np.array([], dtype=np.float64).reshape((-1,1))
    for i in np.arange(itegration):
        #L = 0.3 * np.random.randn(leftsize, 1)
        L = 0.3 * np.random.uniform(low=0, high=5, size=(leftsize,1))
        #R = 0.5 * np.random.randn(righsize, 1)
        R = 0.5 * np.random.uniform(low=0, high=5, size=(righsize,1))
        # Generate some abnormal novel observations
        # X_outliers = np.random.uniform(low=-4, high=4, size=(20, 1))
        X_outliers = np.random.uniform(low=5, high=7, size=(errorsize, 1))
        X = np.r_[L + 2, X_outliers, R - 2]
        full_data = np.concatenate((full_data,X))
        full_outliners = np.concatenate((full_outliners,X_outliers))
    return full_data, full_outliners
def realData():
    return raw_data, [item for item in range(len(raw_data)) if raw_data[item] == 60]
def generate_normal_time_series(num, minl=50, maxl=1000):
    data = np.array([], dtype=np.float64)
    partition = np.random.randint(minl, maxl, num)
    for p in partition:
        size = rd.randint(20, 50)
        x = np.asarray(list(reversed(range(size))))
        delta = np.random.uniform(1, 5, len(x))
        tdata = 0.8* x + delta
        data = np.concatenate((data, tdata))
    return data